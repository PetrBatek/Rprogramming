else
n[i] = toString(n[i])
}
df = data.frame(id, nobs = rep(0,length(id)))
poradi = 1
for(i in n){
count = 0
temp = paste(i,".csv",sep = "")
data = read.csv(paste(directory,temp,sep = ""))
naSulfate = !is.na(data$sulfate)
naNitrate = !is.na(data$nitrate)
for(j in 1:length(naSulfate)){
if (naSulfate[j] == TRUE & naNitrate[j] == TRUE){
count = count + 1
}
}
df$nobs[poradi] = count
poradi = poradi + 1
}
return(df)
}
Complete <- function(directory, id){
c = rep(0,length(id))
n = rep("",length(id))
for(i in 1:length(id){
if(n[i] < 10)
n[i] = paste("00",toString(n[i]), sep = "")
else if ( 10 <= n[i] & n[i] < 100)
n[i] = paste("0",toString(n[i]), sep = "")
else
n[i] = toString(n[i])
}
print(n)
df = data.frame(id, nobs = rep(0,length(id)))
poradi = 1
for(i in n){
count = 0
temp = paste(i,".csv",sep = "")
data = read.csv(paste(directory,temp,sep = ""))
naSulfate = !is.na(data$sulfate)
naNitrate = !is.na(data$nitrate)
for(j in 1:length(naSulfate)){
if (naSulfate[j] == TRUE & naNitrate[j] == TRUE){
count = count + 1
}
}
df$nobs[poradi] = count
poradi = poradi + 1
}
return(df)
}
Complete <- function(directory, id){
c = rep(0,length(id))
n = rep("",length(id))
for(i in 1:length(id)){
if(n[i] < 10)
n[i] = paste("00",toString(n[i]), sep = "")
else if ( 10 <= n[i] & n[i] < 100)
n[i] = paste("0",toString(n[i]), sep = "")
else
n[i] = toString(n[i])
}
print(n)
df = data.frame(id, nobs = rep(0,length(id)))
poradi = 1
for(i in n){
count = 0
temp = paste(i,".csv",sep = "")
data = read.csv(paste(directory,temp,sep = ""))
naSulfate = !is.na(data$sulfate)
naNitrate = !is.na(data$nitrate)
for(j in 1:length(naSulfate)){
if (naSulfate[j] == TRUE & naNitrate[j] == TRUE){
count = count + 1
}
}
df$nobs[poradi] = count
poradi = poradi + 1
}
return(df)
}
Complete(directory,[2,5,9,50,150])
Complete(directory,c(2,5,9,50,150))
Complete <- function(directory, id){
c = rep(0,length(id))
n = rep("",length(id))
for(i in 1:length(n)){
if(id[i] < 10)
n[i] = paste("00",toString(id[i]), sep = "")
else if ( 10 <= id[i] & id[i] < 100)
n[i] = paste("0",toString(id[i]), sep = "")
else
n[i] = toString(id[i])
}
print(n)
df = data.frame(id, nobs = rep(0,length(id)))
poradi = 1
for(i in n){
count = 0
temp = paste(i,".csv",sep = "")
data = read.csv(paste(directory,temp,sep = ""))
naSulfate = !is.na(data$sulfate)
naNitrate = !is.na(data$nitrate)
for(j in 1:length(naSulfate)){
if (naSulfate[j] == TRUE & naNitrate[j] == TRUE){
count = count + 1
}
}
df$nobs[poradi] = count
poradi = poradi + 1
}
return(df)
}
Complete(directory,c(2,5,9,50,150))
Complete(directory, 1)
Complete(directory, 30:25)
Complete(directory, 3)
?cor
?order
x <- c(1,1,3:1,1:4,3)
x
x <- c(1,1,3:1,1:4,3), y <- c(9,9:1), z <- c(2,1:9)
order(x <- c(1,1,3:1,1:4,3), y <- c(9,9:1), z <- c(2,1:9))
allHospitals = read.csv("outcome-of-care-measures.csv", colClasses = "character")
getwd()
setwd("E:/R/rprog-data-ProgAssignment3-data)
setwd("E:/R/rprog-data-ProgAssignment3-data")
setwd("E:/R/rprog-data-ProgAssignment3-data")
allHospitals = read.csv("outcome-of-care-measures.csv", colClasses = "character")
head(allHospitals)
outcomeHospitals = (allHospitals[,7] == "AL" )
data = allHospitals[outcomeHospitals,]
View(data)
View(data)
data[order(data[,11], data[,2])]
data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack    , data$Hospital.Name)]
data$Hospital.Name
data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack
data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack    , data$Hospital.Name)]
data[order(data$Hospital.Name)]
data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack    , data$Hospital.Name),]
head(data)
data[,11]
a = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack    , data$Hospital.Name),]
a[,11]
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack    , data$Hospital.Name),]
data[,11]
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack    , data$Hospital.Name),]
names(data)[17]
names(data)[23]
c(data[2,7],data[2,11],data[2,2])
c(data[6:7,7],data[6:7,11],data[6:7,2])
c(data[41:45,7],data[41:45,11],data[41:45,2])
data[41:45,c(7,11,2)]
names = data[,2]
names
rankhospital = function(state,outcome, num = "best"){
if(!(outcome %in% c("heart attack", "heart failure", "pneumonia"))){
stop("invalid outcome")
}
allHospitals = read.csv("outcome-of-care-measures.csv", colClasses = "character")
if(!(state %in% allHospitals[,7])){
stop("invalid state")
}
outcomeHospitals = (allHospitals[,7] == state )
data = allHospitals[outcomeHospitals,]
##rank = c(1:length(data))
if ( num == "best")
num = 1
if (num == "worst")
num = length(data)
if (outcome == "heart attack"){
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack, data$Hospital.Name),]
names = data[,2]
return(names[num])
}
else if (outcome == "heart failure"){
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure, data$Hospital.Name),]
names = data[,2]
return(names[num])
}
else if (outcome == "pneumonia"){
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia, data$Hospital.Name),]
names = data[,2]
return(names[num])
}
}
rankhospital("TX", "heart failure", 4)
rankhospital("TX", "heart failure", 3)
rm(list=ls())
rankhospital = function(state,outcome, num = "best"){
if(!(outcome %in% c("heart attack", "heart failure", "pneumonia"))){
stop("invalid outcome")
}
allHospitals = read.csv("outcome-of-care-measures.csv", colClasses = "character")
if(!(state %in% allHospitals[,7])){
stop("invalid state")
}
outcomeHospitals = (allHospitals[,7] == state )
data = allHospitals[outcomeHospitals,]
##rank = c(1:length(data))
if ( num == "best")
num = 1
if (num == "worst")
num = length(data)
if (outcome == "heart attack"){
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack, data$Hospital.Name),]
names = data[,2]
return(names[num])
}
else if (outcome == "heart failure"){
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure, data$Hospital.Name),]
names = data[,2]
return(names[num])
}
else if (outcome == "pneumonia"){
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia, data$Hospital.Name),]
names = data[,2]
return(names[num])
}
}
rankhospital("TX", "heart failure", 4)
rankhospital("MD", "heart attack", "worst")
rankhospital("MN", "heart attack", 5000)
allHospitals = read.csv("outcome-of-care-measures.csv", colClasses = "character")
outcomeHospitals = (allHospitals[,7] == "TX" )
data = allHospitals[outcomeHospitals,]
head(data)
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure, data$Hospital.Name),]
head(data)
data$HopitalName
data$Hopital.Name
data[,2]
names(data)
data[,7]
data[,17]
allHospitals = read.csv("outcome-of-care-measures.csv", colClasses = "character")
outcomeHospitals = (allHospitals[,7] == state )
data = allHospitals[outcomeHospitals,]
outcomeHospitals = (allHospitals[,7] == "TX" )
data = allHospitals[outcomeHospitals,]
data[,17]
data = data[with(data, order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure, data$Hospital.Name)),]
head(data)[,2]
data[,17]
rankhospital = function(state,outcome, num = "best"){
if(!(outcome %in% c("heart attack", "heart failure", "pneumonia"))){
stop("invalid outcome")
}
allHospitals = read.csv("outcome-of-care-measures.csv", colClasses = "character")
if(!(state %in% allHospitals[,7])){
stop("invalid state")
}
outcomeHospitals = (allHospitals[,7] == state )
data = allHospitals[outcomeHospitals,]
##rank = c(1:length(data))
if ( num == "best")
num = 1
if (num == "worst")
num = length(data)
if (outcome == "heart attack"){
data[,11] = as.numeric(data[,11])
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack, data$Hospital.Name),]
names = data[,2]
return(names[num])
}
else if (outcome == "heart failure"){
data[,17] = as.numeric(data[,17])
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure, data$Hospital.Name),]
names = data[,2]
return(names[num])
}
else if (outcome == "pneumonia"){
data[,23] = as.numeric(data[,23])
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia, data$Hospital.Name),]
names = data[,2]
return(names[num])
}
}
rankhospital("TX", "heart failure", 4)
rankhospital("MD", "heart attack", "worst")
?as.numeric
?order
rankhospital = function(state,outcome, num = "best"){
if(!(outcome %in% c("heart attack", "heart failure", "pneumonia"))){
stop("invalid outcome")
}
allHospitals = read.csv("outcome-of-care-measures.csv", colClasses = "character")
if(!(state %in% allHospitals[,7])){
stop("invalid state")
}
outcomeHospitals = (allHospitals[,7] == state )
data = allHospitals[outcomeHospitals,]
##rank = c(1:length(data))
if ( num == "best")
num = 1
if (num == "worst")
num = length(data)
if (outcome == "heart attack"){
data[,11] = as.numeric(data[,11])
data = data[!is.na(data[,11])]
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack, data$Hospital.Name),]
names = data[,2]
return(names[num])
}
else if (outcome == "heart failure"){
data[,17] = as.numeric(data[,17])
data = data[!is.na(data[,17])]
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure, data$Hospital.Name),]
names = data[,2]
return(names[num])
}
else if (outcome == "pneumonia"){
data[,23] = as.numeric(data[,23])
data = data[!is.na(data[,23])]
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia, data$Hospital.Name),]
names = data[,2]
return(names[num])
}
}
rankhospital("MD", "heart attack", "worst")
rankhospital("TX", "heart failure", 4)
data[,17]
data = data[!is.na(data[0,17])]
data
outcomeHospitals = (allHospitals[,7] == state )
data = allHospitals[outcomeHospitals,]
outcomeHospitals = (allHospitals[,7] == "TX" )
data = allHospitals[outcomeHospitals,]
data
data[,17]
data[,!is.na[,17]]
data[,!is.na(data[,17])]
data[,!is.na(data[,17])]
is.na(data[,17])
data[,17] = as.numeric(data[,17])
is.na(data[,17])
data = data[,!is.na(data[,17])]
data = data[!is.na(data[,17]),]
data[,17]
rankhospital = function(state,outcome, num = "best"){
if(!(outcome %in% c("heart attack", "heart failure", "pneumonia"))){
stop("invalid outcome")
}
allHospitals = read.csv("outcome-of-care-measures.csv", colClasses = "character")
if(!(state %in% allHospitals[,7])){
stop("invalid state")
}
outcomeHospitals = (allHospitals[,7] == state )
data = allHospitals[outcomeHospitals,]
##rank = c(1:length(data))
if ( num == "best")
num = 1
if (num == "worst")
num = length(data)
if (outcome == "heart attack"){
data[,11] = as.numeric(data[,11])
data = data[!is.na(data[,11]),]
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack, data$Hospital.Name),]
names = data[,2]
return(names[num])
}
else if (outcome == "heart failure"){
data[,17] = as.numeric(data[,17])
data = data[!is.na(data[,17]),]
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure, data$Hospital.Name),]
names = data[,2]
return(names[num])
}
else if (outcome == "pneumonia"){
data[,23] = as.numeric(data[,23])
data = data[!is.na(data[,23]),]
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia, data$Hospital.Name),]
names = data[,2]
return(names[num])
}
}
rankhospital = function(state,outcome, num = "best"){
if(!(outcome %in% c("heart attack", "heart failure", "pneumonia"))){
stop("invalid outcome")
}
allHospitals = read.csv("outcome-of-care-measures.csv", colClasses = "character")
if(!(state %in% allHospitals[,7])){
stop("invalid state")
}
outcomeHospitals = (allHospitals[,7] == state )
data = allHospitals[outcomeHospitals,]
##rank = c(1:length(data))
if ( num == "best")
num = 1
if (outcome == "heart attack"){
data[,11] = as.numeric(data[,11])
data = data[!is.na(data[,11]),]
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack, data$Hospital.Name),]
if (num == "worst")
num = length(data)
names = data[,2]
return(names[num])
}
else if (outcome == "heart failure"){
data[,17] = as.numeric(data[,17])
data = data[!is.na(data[,17]),]
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure, data$Hospital.Name),]
if (num == "worst")
num = length(data)
names = data[,2]
return(names[num])
}
else if (outcome == "pneumonia"){
data[,23] = as.numeric(data[,23])
data = data[!is.na(data[,23]),]
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia, data$Hospital.Name),]
if (num == "worst")
num = length(data)
names = data[,2]
return(names[num])
}
}
rankhospital("MD", "heart attack", "worst")
rankhospital("TX", "heart failure", 4)
rankhospital = function(state,outcome, num = "best"){
if(!(outcome %in% c("heart attack", "heart failure", "pneumonia"))){
stop("invalid outcome")
}
allHospitals = read.csv("outcome-of-care-measures.csv", colClasses = "character")
if(!(state %in% allHospitals[,7])){
stop("invalid state")
}
outcomeHospitals = (allHospitals[,7] == state )
data = allHospitals[outcomeHospitals,]
##rank = c(1:length(data))
if ( num == "best")
num = 1
if (outcome == "heart attack"){
data[,11] = as.numeric(data[,11])
data = data[!is.na(data[,11]),]
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack, data$Hospital.Name),]
if (num == "worst")
num = length(data[,2])
names = data[,2]
return(names[num])
}
else if (outcome == "heart failure"){
data[,17] = as.numeric(data[,17])
data = data[!is.na(data[,17]),]
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure, data$Hospital.Name),]
if (num == "worst")
num = length(data)
names = data[,2]
return(names[num])
}
else if (outcome == "pneumonia"){
data[,23] = as.numeric(data[,23])
data = data[!is.na(data[,23]),]
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia, data$Hospital.Name),]
if (num == "worst")
num = length(data)
names = data[,2]
return(names[num])
}
}
rankhospital("MD", "heart attack", "worst")
rankhospital = function(state,outcome, num = "best"){
if(!(outcome %in% c("heart attack", "heart failure", "pneumonia"))){
stop("invalid outcome")
}
allHospitals = read.csv("outcome-of-care-measures.csv", colClasses = "character")
if(!(state %in% allHospitals[,7])){
stop("invalid state")
}
outcomeHospitals = (allHospitals[,7] == state )
data = allHospitals[outcomeHospitals,]
##rank = c(1:length(data))
if ( num == "best")
num = 1
if (outcome == "heart attack"){
data[,11] = as.numeric(data[,11])
data = data[!is.na(data[,11]),]
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack, data$Hospital.Name),]
if (num == "worst")
num = length(data[,2])
names = data[,2]
return(names[num])
}
else if (outcome == "heart failure"){
data[,17] = as.numeric(data[,17])
data = data[!is.na(data[,17]),]
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure, data$Hospital.Name),]
if (num == "worst")
num = length(data[,2])
names = data[,2]
return(names[num])
}
else if (outcome == "pneumonia"){
data[,23] = as.numeric(data[,23])
data = data[!is.na(data[,23]),]
data = data[order(data$Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia, data$Hospital.Name),]
if (num == "worst")
num = length(data[,2])
names = data[,2]
return(names[num])
}
}
rankhospital("TX", "heart failure", 4)
rankhospital("MN", "heart attack", 5000)
submit()
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript3.R")
submit()
5
submit()
submit()
submit()
